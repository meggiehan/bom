<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>14-闭包的引用-简化递归</title>
</head>
<body>
</body>
<script>
	// fibonacci 数列
	var count1 = 0;
	function fib1 ( n ) {

		count1++;

		if ( n == 1 || n == 0 ) return 1;
		return fib1( n - 1 ) + fib1( n - 2 );
	}

	// 单个计算的性能问题
	// console.log( 'fib1( 1 ) = ' + fib1( 1 ) + ", count1 = " + count1 );
	// console.log( 'fib1( 3 ) = ' + fib1( 3 ) + ", count1 = " + count1 );		// 5
	// console.log( 'fib1( 4 ) = ' + fib1( 4 ) + ", count1 = " + count1 );		// 9
	// console.log( 'fib1( 5 ) = ' + fib1( 5 ) + ", count1 = " + count1 );		// 15

	// ...
	// console.log( 'fib1( 10 ) = ' + fib1( 10 ) + ", count1 = " + count1 );	// 177
	// console.log( 'fib1( 11 ) = ' + fib1( 11 ) + ", count1 = " + count1 );	// 287

	// ..
	// console.log( 'fib1( 20 ) = ' + fib1( 20 ) + ", count1 = " + count1 );	// 21891
	// console.log( 'fib1( 21 ) = ' + fib1( 21 ) + ", count1 = " + count1 );	// 35421


	// 多个计算的性能问题
	// for ( var i = 0; i < 21; i++ ) {
	// 	console.log( fib1( i ) );
	// }
	// console.log( count1 );   // 10: 276, 11: 453, 20: 35400, 21: 57291


	// 分析为什么性能吃紧
	// fib1( 5 )
	// fib1( 4 ) + fib1( 3 ) 
	// fib1( 3 ) + fib1( 2 ) + ...
	// fib1( 2 ) + fib1( 1 ) + ...
	// fib1( 1 ) + fib1( 0 ) + ...

</script>
</html>