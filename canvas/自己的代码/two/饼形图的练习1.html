<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <style type="text/css">
        canvas{
            border:1px solid red;

        }
    </style>
</head>
<body>
    <canvas id="ca" width=" 600" height="600"></canvas>
     <script>
        var cas=document.getElementsByTagName('canvas')[0];
        var ctx=cas.getContext("2d");

      function toAngle ( radian ) {
        return radian * 180 / Math.PI;
      }
      function toRadian ( angle ) {
        return angle * Math.PI / 180;
      }

      var x=cas.width/2;
      var y=cas.height/2;
      var raduis=100;

      var data=[70,16,3];
      var sum=0;
      data.forEach(function(v){
        sum+=v;
      })

       var data2=data.map(function (v,i) {
          return {value:v,angle:v/sum*360};
      })

      var colors="pink,lightgreen,orange".split(",");
      var data3="男生,女生,班长".split(",");
      var startangle=-90;

      data2.forEach(function(v,i){
        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.fillStyle=colors[i];
        ctx.arc(x,y,raduis,toRadian(startangle),toRadian(startangle+=v.angle));
        ctx.closePath();
        ctx.fill();

      })

       // data3.forEach(function(){
       //  ctx.fillText(data3[0], startangle+30, startangle+60);
       //  ctx.fillText(data3[1], startangle-20, startangle-10);
       //  ctx.fillText(data3[2], startangle+10, startangle-75);
       //  // console.log(data3);
       //  ctx.closePath();
       //  ctx.fill();

         data3.forEach(function(v,i){
            ctx.fillText(v,toRadian(startangle + 30*i),toRadian(startangle + 60*i))
            ctx.closePath();
              ctx.fill();

         })

      // })
      //






    </script>
</body>
</html>